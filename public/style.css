/* NOUVELLES RÈGLES RESPONSIVE ULTRA OPTIMISÉES POUR INDEX SIMPLIFIÉ */

/* Interface index simplifiée - Mobile first */
@media (max-width: 768px) {
  .toolbar {
    bottom: 4px;
    padding: 4px 6px;
    gap: 6px;
    max-width: 99vw;
    justify-content: center;
    flex-wrap: nowrap; /* Pas de wrap pour interface simplifiée */
    border-radius: 4px;
    min-height: 44px;
  }
  
  .tools {
    gap: 3px;
    flex-shrink: 1;
    overflow-x: auto; /* Scroll horizontal si besoin */
    scrollbar-width: none; /* Firefox */
    -ms-overflow-style: none; /* IE */
  }
  
  .tools::-webkit-scrollbar {
    display: none; /* Webkit */
  }
  
  .tool-btn {
    min-width: 36px;
    min-height: 36px;
    font-size: 15px;
    padding: 2px;
    flex-shrink: 0; /* Ne réduit pas les boutons */
  }
  
  .colors {
    gap: 3px;
    flex-shrink: 0;
  }
  
  .color-btn {
    width: 28px;
    height: 28px;
    border-radius: 50%;
    border: 2px solid #333;
    flex-shrink: 0;
  }
  
  #size-slider {
    width: 55px;
    height: 36px;
    flex-shrink: 0;
  }
}

/* Très petits écrans - Ultra compact */
@media (max-width: 480px) {
  .toolbar {
    bottom: 2px;
    padding: 3px 4px;
    gap: 4px;
    min-height: 40px;
  }
  
  .tools {
    gap: 2px;
    max-width: 60%; /* Plus d'espace pour les outils essentiels */
  }
  
  .tool-btn {
    min-width: 32px;
    min-height: 32px;
    font-size: 14px;
    margin: 1px;
  }
  
  .colors {
    gap: 2px;
  }
  
  .color-btn {
    width: 24px;
    height: 24px;
    margin: 1px;
  }
  
  #size-slider {
    width: 45px;
    margin-left: 3px;
  }
}

/* iPhone SE et écrans très petits */
@media (max-width: 375px) {
  .toolbar {
    padding: 2px 3px;
    gap: 3px;
    min-height: 38px;
  }
  
  .tools {
    gap: 1px;
    max-width: 65%;
  }
  
  .tool-btn {
    min-width: 30px;
    min-height: 30px;
    font-size: 13px;
    border-radius: 3px;
  }
  
  .color-btn {
    width: 22px;
    height: 22px;
    border-width: 1px;
  }
  
  #size-slider {
    width: 40px;
  }
}

/* Mode paysage mobile - Interface très compacte */
@media (max-height: 500px) and (orientation: landscape) {
  .toolbar {
    bottom: 2px;
    padding: 2px 4px;
    gap: 3px;
    min-height: 34px;
  }
  
  .tool-btn {
    min-width: 28px;
    min-height: 28px;
    font-size: 12px;
  }
  
  .color-btn {
    width: 20px;
    height: 20px;
  }
  
  #size-slider {
    width: 35px;
  }
}

/* Écrans très larges - Interface normale */
@media (min-width: 1200px) {
  .toolbar {
    gap: 16px;
    padding: 8px 16px;
  }
  
  .tools {
    gap: 8px;
  }
  
  .tool-btn {
    width: 40px;
    height: 40px;
    font-size: 18px;
  }
  
  .colors {
    gap: 8px;
  }
  
  .color-btn {
    width: 32px;
    height: 32px;
  }
  
  #size-slider {
    width: 120px;
  }
}

/* CORRECTIONS POUR ÉVITER LES DÉBORDEMENTS */

/* Assurer que la toolbar reste dans l'écran */
.toolbar {
  box-sizing: border-box;
  overflow-x: hidden;
}

/* Assurer que les tools ne débordent jamais */
.tools {
  display: flex;
  align-items: center;
  flex-wrap: nowrap;
  min-width: 0; /* Permet la compression */
}

/* Empêcher les couleurs de se comprimer */
.colors {
  display: flex;
  align-items: center;
  flex-shrink: 0;
}

/* Slider toujours visible et fonctionnel */
#size-slider {
  flex-shrink: 0;
  min-width: 35px;
}